- singularity

- add double Snakefile

- anticipate filtering instead of third checkpoint

- lista di mutazioni frequenti, secondarie, cancerogene, bystander
	- trova su cluster BAM files
	- crea BED file con mutations e usa deeptools e conti quante reads in quella regione mutata
	- prima di deeptools --> grep in cui separo BAM per wt e mutated e calcolo ratio 

- cerca in giro se esiste qualcosa di simile

- fix importance if {}
	- empty dictionaries where no features selected
		- temp solution: shap always generate values

- create decorrelation function
   - 10:1 observation feature cutoff for sampling
	-> see CpG tournaments
	-> 3:1, 5:1 ratios?

- automatized sample selection in PCA space (per giuoco)
- sample exclusion list sia per metiloma, che per trascrittoma (per obbligo)

- Create R.utils specific conda env

- Automatic elbow finder
	top k more variable vs elbow

- improve feature selection
	in case of ties, which features?
	CpG tournaments

- create decorrelation function
	decorrelation vs TMRs
		-> measure correlation of TMRs first
		-> consider a mixed set of inputs TMRs + outer CpGs
	
- Fix base_learner xgboost and shap compatibility issue
	-> fixed by downgrading vs new approach?	

- Optimize beta filtering
	-> done?
	-> work directly on h5 by transcript (earlier parallelization)

- combined importance score
	-> TBD

- imputation for missing CpGs
	- group CpGs (indie of associated genes) by distance from tss, correlation, TF-annotation?
		-> infer their importance